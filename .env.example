# gcli2api 环境变量配置示例 - 基于官方项目配置
# 复制此文件为 .env 并根据需要修改

# ==========================================
# 基础配置 (与官方项目一致)
# ==========================================

# 服务端口 (默认: 7861)
PORT=7861

# 服务器监听地址 (默认: 0.0.0.0)
HOST=0.0.0.0

# ==========================================
# 密码配置 (官方默认值: pwd)
# ==========================================

# 通用密码 (设置后覆盖 API_PASSWORD 和 PANEL_PASSWORD)
# 官方演示网站使用: pwd
PASSWORD=pwd

# API 访问密码 (可选，如果不设置则使用 PASSWORD)
API_PASSWORD=

# 控制面板访问密码 (可选，如果不设置则使用 PASSWORD)
PANEL_PASSWORD=

# ==========================================
# 性能和稳定性配置 (官方默认值)
# ==========================================

# 每个凭证轮换前的调用次数 (默认: 10)
CALLS_PER_ROTATION=10

# 启用 429 错误自动重试 (默认: true)
RETRY_429_ENABLED=true

# 429 错误最大重试次数 (默认: 3)
RETRY_429_MAX_RETRIES=3

# 429 错误重试间隔，秒 (默认: 1.0)
RETRY_429_INTERVAL=1.0

# 抗截断最大重试次数 (默认: 3)
ANTI_TRUNCATION_MAX_ATTEMPTS=3

# ==========================================
# 网络和代理配置
# ==========================================

# HTTP/HTTPS 代理地址 (格式: http://host:port)
PROXY=

# OAuth 认证代理端点
OAUTH_PROXY_URL=

# Google APIs 代理端点
GOOGLEAPIS_PROXY_URL=

# 元数据服务代理端点
METADATA_SERVICE_URL=

# ==========================================
# 自动化配置 (官方默认值)
# ==========================================

# 启用凭证自动封禁 (默认: true)
AUTO_BAN=true

# 启动时自动加载环境变量凭证 (默认: false)
AUTO_LOAD_ENV_CREDS=false

# ==========================================
# 兼容性配置 (官方默认值)
# ==========================================

# 启用兼容性模式，将 system 消息转为 user 消息 (默认: false)
COMPATIBILITY_MODE=false

# ==========================================
# 日志配置 (官方默认值)
# ==========================================

# 日志级别 (DEBUG/INFO/WARNING/ERROR，默认: INFO)
LOG_LEVEL=INFO

# 日志文件路径 (默认: gcli2api.log)
LOG_FILE=gcli2api.log

# ==========================================
# 存储后端配置 (按优先级)
# ==========================================

# Redis 配置 (最高优先级)
# Redis 连接字符串 (设置后启用 Redis 模式)
# 本地: redis://localhost:6379
# 带密码: redis://:password@host:6379
# SSL: rediss://default:password@host:6380
# Upstash: rediss://default:token@your-host.upstash.io:6379
REDIS_URI=

# Redis 数据库索引 (0-15，默认: 0)
REDIS_DATABASE=0

# MongoDB 配置 (第二优先级)
# MongoDB 连接字符串 (设置后启用 MongoDB 模式)
# 本地: mongodb://localhost:27017
# MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net
# 带认证: mongodb://admin:password@localhost:27017/admin
MONGODB_URI=

# MongoDB 数据库名称 (默认: gcli2api)
MONGODB_DATABASE=gcli2api

# PostgreSQL 配置 (第三优先级)
# PostgreSQL DSN 连接字符串
# 示例: postgresql://user:password@localhost:5432/gcli2api
POSTGRES_DSN=

# ==========================================
# 凭证配置 (高级用户)
# ==========================================

# 使用 GCLI_CREDS_* 环境变量导入多个凭证
# 方式 1: 编号格式
# GCLI_CREDS_1={"client_id":"...","client_secret":"..."}
# GCLI_CREDS_2={"client_id":"...","client_secret":"..."}

# 方式 2: 项目名格式
# GCLI_CREDS_myproject={"client_id":"...","project_id":"myproject"}
# GCLI_CREDS_project2={"client_id":"...","project_id":"project2"}

# 启用自动加载环境变量凭证
# AUTO_LOAD_ENV_CREDS=true

# ==========================================
# Docker 特殊配置
# ==========================================

# Google 凭证文件 (base64 编码)
GOOGLE_CREDENTIALS=

# ==========================================
# 开发环境配置
# ==========================================

# 开发模式 (启用调试功能)
DEBUG=false

# 热重载 (开发时使用)
HOT_RELOAD=false

# 源映射 (用于调试)
SOURCE_MAP=false