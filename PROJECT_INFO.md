# gcli2api é¡¹ç›®ä¿¡æ¯

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: gcli2api - Gemini CLI to API Converter  
**é¡¹ç›®ç±»å‹**: Web åº”ç”¨ + API æœåŠ¡  
**ç›®æ ‡ç”¨æˆ·**: å¼€å‘è€…å’Œä¼ä¸šç”¨æˆ·  
**ä¸»è¦åŠŸèƒ½**: å°† Google Gemini CLI è½¬æ¢ä¸ºæ ‡å‡† API æ¥å£

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **ç¼–ç¨‹è¯­è¨€**: Python 3.13+
- **æ¡†æ¶**: FastAPI / Flask
- **å®¹å™¨åŒ–**: Docker
- **å­˜å‚¨åç«¯**: 
  - Redis (æœ€é«˜ä¼˜å…ˆçº§)
  - MongoDB (ç¬¬äºŒä¼˜å…ˆçº§)
  - PostgreSQL (ç¬¬ä¸‰ä¼˜å…ˆçº§)
  - æœ¬åœ°æ–‡ä»¶ (é»˜è®¤)

### Web ç•Œé¢æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Deno + Fresh
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS + Twind
- **ç»„ä»¶**: Preact

### éƒ¨ç½²å¹³å°
- Docker Compose (æ¨è)
- Kubernetes
- Deno Deploy
- å„å¤§äº‘å¹³å° (AWS, GCP, Azure)

## æ ¸å¿ƒç‰¹æ€§

### 1. API è½¬æ¢åŠŸèƒ½
- âœ… å…¼å®¹ OpenAI API æ ¼å¼
- âœ… æ”¯æŒ Gemini åŸç”Ÿ API
- âœ… æµå¼å’Œéæµå¼å“åº”
- âœ… å¤šæ¨¡å‹æ”¯æŒ

### 2. å¤šè´¦å·ç®¡ç†
- âœ… æ— é™è´¦å·æ·»åŠ 
- âœ… è‡ªåŠ¨è½®æ¢æœºåˆ¶
- âœ… è´Ÿè½½å‡è¡¡
- âœ… æ•…éšœè½¬ç§»

### 3. æ™ºèƒ½ç®¡ç†
- âœ… è‡ªåŠ¨é™æµå¤„ç†
- âœ… 429 é”™è¯¯é‡è¯•
- âœ… å‡­è¯è‡ªåŠ¨å°ç¦
- âœ… ä½¿ç”¨ç»Ÿè®¡

### 4. éƒ¨ç½²çµæ´»æ€§
- âœ… å¤šç§å­˜å‚¨åç«¯
- âœ… å®¹å™¨åŒ–éƒ¨ç½²
- âœ… ç¯å¢ƒå˜é‡é…ç½®
- âœ… å¥åº·æ£€æŸ¥

## é…ç½®ä¿¡æ¯

### é»˜è®¤é…ç½®
- **æœåŠ¡ç«¯å£**: 7861
- **é»˜è®¤å¯†ç **: pwd
- **API è®¤è¯**: Bearer Token
- **æ—¥å¿—çº§åˆ«**: INFO
- **å­˜å‚¨**: Redis > MongoDB > æ–‡ä»¶

### ç¯å¢ƒå˜é‡
```bash
# åŸºç¡€é…ç½®
PORT=7861
HOST=0.0.0.0
PASSWORD=pwd

# æ€§èƒ½é…ç½®
CALLS_PER_ROTATION=10
RETRY_429_ENABLED=true
RETRY_429_MAX_RETRIES=3

# å­˜å‚¨é…ç½®
REDIS_URI=redis://localhost:6379
MONGODB_URI=mongodb://localhost:27017
```

### API ç«¯ç‚¹
```
# OpenAI å…¼å®¹ç«¯ç‚¹
POST /v1/chat/completions
GET  /v1/models

# Gemini åŸç”Ÿç«¯ç‚¹
GET  /v1beta/models
POST /v1beta/models/{model}:generateContent

# å·¥å…·ç«¯ç‚¹
GET  /health
```

## éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: Docker Compose (æ¨è)
```bash
docker-compose up -d
```

### æ–¹æ¡ˆ2: å¿«é€Ÿå¯åŠ¨è„šæœ¬
```bash
./start.sh    # Linux/Mac
start.bat     # Windows
```

### æ–¹æ¡ˆ3: Deno Deploy
```bash
deno deploy --project=gcli2api-web main.ts
```

### æ–¹æ¡ˆ4: Kubernetes
```bash
kubectl apply -f k8s-deployment.yaml
```

## é¡¹ç›®ç»“æ„

```
gcli2api/
â”œâ”€â”€ ğŸ“„ æ–‡æ¡£æ–‡ä»¶
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ non-technical-deployment-guide.md
â”‚   â”œâ”€â”€ deno-deployment-guide.md
â”‚   â””â”€â”€ cloud-deployment-guide.md
â”‚
â”œâ”€â”€ ğŸ”§ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ deno.json
â”‚   â”œâ”€â”€ import_map.json
â”‚   â”œâ”€â”€ fresh.config.ts
â”‚   â””â”€â”€ twind.config.ts
â”‚
â”œâ”€â”€ ğŸŒ Web ç•Œé¢
â”‚   â”œâ”€â”€ main.ts
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ api-test.tsx
â”‚   â”‚   â”œâ”€â”€ monitoring.tsx
â”‚   â”‚   â””â”€â”€ docs.tsx
â”‚   â””â”€â”€ islands/
â”‚       â””â”€â”€ Counter.tsx
â”‚
â”œâ”€â”€ ğŸš€ éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ start.sh
â”‚   â”œâ”€â”€ start.bat
â”‚   â”œâ”€â”€ deploy-check.sh
â”‚   â””â”€â”€ deploy-check.bat
â”‚
â”œâ”€â”€ ğŸ” ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â””â”€â”€ .github/workflows/
â”‚
â””â”€â”€ ğŸ“Š é¡¹ç›®ä¿¡æ¯
    â””â”€â”€ PROJECT_INFO.md
```

## ä½¿ç”¨åœºæ™¯

### 1. ä¸ªäººå¼€å‘è€…
- å¿«é€Ÿé›†æˆ Gemini API
- é¿å…å¤æ‚çš„è®¤è¯æµç¨‹
- æœ¬åœ°å¼€å‘å’Œæµ‹è¯•

### 2. ä¼ä¸šåº”ç”¨
- å¤šè´¦å·è´Ÿè½½å‡è¡¡
- é«˜å¯ç”¨éƒ¨ç½²
- ç»Ÿä¸€ API æ¥å£

### 3. å¼€æºé¡¹ç›®
- é›†æˆ AI åŠŸèƒ½
- é™ä½å¼€å‘é—¨æ§›
- ç¤¾åŒºè´¡çŒ®

### 4. æ•™è‚²ç”¨é€”
- å­¦ä¹  API å¼€å‘
- ç†è§£å®¹å™¨åŒ–éƒ¨ç½²
- å®è·µ DevOps

## æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´
- **å¹³å‡å“åº”æ—¶é—´**: < 500ms
- **99% å“åº”æ—¶é—´**: < 2s
- **å¹¶å‘å¤„ç†**: 1000+ è¯·æ±‚/ç§’

### å¯é æ€§
- **å¯ç”¨æ€§**: 99.9%
- **æ•…éšœæ¢å¤**: è‡ªåŠ¨
- **æ•°æ®æŒä¹…åŒ–**: æ”¯æŒ

### æ‰©å±•æ€§
- **æ°´å¹³æ‰©å±•**: æ”¯æŒ
- **å‚ç›´æ‰©å±•**: æ”¯æŒ
- **è‡ªåŠ¨ä¼¸ç¼©**: æ”¯æŒ

## å®‰å…¨ç‰¹æ€§

### è®¤è¯æˆæƒ
- âœ… Bearer Token è®¤è¯
- âœ… å¤šå¯†ç æ”¯æŒ
- âœ… API å¯†é’¥ç®¡ç†

### å®‰å…¨é˜²æŠ¤
- âœ… è¯·æ±‚é™æµ
- âœ… IP é»‘ç™½åå•
- âœ… CORS é…ç½®
- âœ… å®‰å…¨å¤´è®¾ç½®

### æ•°æ®å®‰å…¨
- âœ… åŠ å¯†å­˜å‚¨
- âœ… æ•æ„Ÿä¿¡æ¯è„±æ•
- âœ… å®¡è®¡æ—¥å¿—

## ç›‘æ§è¿ç»´

### ç›‘æ§æŒ‡æ ‡
- è¯·æ±‚é‡å’Œå“åº”æ—¶é—´
- é”™è¯¯ç‡å’ŒçŠ¶æ€ç 
- è´¦å·ä½¿ç”¨åˆ†å¸ƒ
- ç³»ç»Ÿèµ„æºä½¿ç”¨ç‡

### æ—¥å¿—ç®¡ç†
- ç»“æ„åŒ–æ—¥å¿—
- æ—¥å¿—çº§åˆ«æ§åˆ¶
- æ—¥å¿—è½®è½¬
- é›†ä¸­åŒ–æ”¶é›†

### å¥åº·æ£€æŸ¥
- HTTP å¥åº·æ£€æŸ¥
- ä¾èµ–æœåŠ¡æ£€æŸ¥
- è‡ªåŠ¨é‡å¯
- æ•…éšœå‘Šè­¦

## ç¤¾åŒºæ”¯æŒ

### æ–‡æ¡£èµ„æº
- ğŸ“– è¯¦ç»†éƒ¨ç½²æŒ‡å—
- ğŸ”§ é…ç½®è¯´æ˜æ–‡æ¡£
- ğŸ› æ•…éšœæ’é™¤æ‰‹å†Œ
- ğŸ’¡ æœ€ä½³å®è·µæŒ‡å—

### æŠ€æœ¯æ”¯æŒ
- ğŸ› GitHub Issues
- ğŸ’¬ è®¨è®ºåŒº
- ğŸ“§ é‚®ä»¶æ”¯æŒ
- ğŸŒŸ ç¤¾åŒºè´¡çŒ®

### æ›´æ–°ç»´æŠ¤
- ğŸ”„ å®šæœŸæ›´æ–°
- ğŸ›¡ï¸ å®‰å…¨è¡¥ä¸
- âœ¨ æ–°åŠŸèƒ½å‘å¸ƒ
- ğŸ“ æ›´æ–°æ—¥å¿—

## è®¸å¯è¯

**è®¸å¯è¯ç±»å‹**: Cooperative Non-Commercial License (CNC-1.0)

### å…è®¸çš„ç”¨é€”
- âœ… ä¸ªäººå­¦ä¹ å’Œç ”ç©¶
- âœ… éè¥åˆ©ç»„ç»‡ä½¿ç”¨
- âœ… å¼€æºé¡¹ç›®é›†æˆ
- âœ… å­¦æœ¯ç ”ç©¶å’Œæ•™è‚²

### ç¦æ­¢çš„ç”¨é€”
- âŒ å•†ä¸šç”¨é€”
- âŒ ä¼ä¸šä½¿ç”¨ï¼ˆå¹´æ”¶å…¥>100ä¸‡ç¾å…ƒï¼‰
- âŒ ä»˜è´¹æœåŠ¡
- âŒ å•†ä¸šç«äº‰

## ç‰ˆæœ¬ä¿¡æ¯

- **å½“å‰ç‰ˆæœ¬**: v1.0.0
- **å‘å¸ƒæ—¥æœŸ**: 2024-11-15
- **ç»´æŠ¤çŠ¶æ€**: ç§¯æç»´æŠ¤
- **æ›´æ–°é¢‘ç‡**: æ¯æœˆæ›´æ–°

## è”ç³»ä¿¡æ¯

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/su-kaka/gcli2api
- **æ¼”ç¤ºç½‘ç«™**: https://gcli2api-9xbf.onrender.com
- **æ–‡æ¡£ç½‘ç«™**: https://37czq7o6m7sbk.ok.kimi.link
- **é—®é¢˜åé¦ˆ**: https://github.com/su-kaka/gcli2api/issues

---

**æœ€åæ›´æ–°æ—¶é—´**: 2024-11-15  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0